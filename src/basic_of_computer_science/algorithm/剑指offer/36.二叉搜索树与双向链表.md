---
title: 36.äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨
category:
  - Algorithm
---

# 36.äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨



## å‚è€ƒé“¾æ¥

<br>

[å‰‘æŒ‡offer_åœ¨çº¿ç¼–ç¨‹ -ç‰›å®¢ç½‘](https://www.nowcoder.com/exam/oj/ta?page=1&tpId=13&type=265)

[å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨-è·Ÿç€å¸…åœ°ç©è½¬æ ¡æ‹›ï¼Œåˆ·çˆ†å„ç±»ç®—æ³•é¢˜ - å¸…åœ°ç©Offer](https://www.playoffer.cn/574.html)

[LCR 155. å°†äºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºæ’åºçš„åŒå‘é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/)



## ä¸ªäººå°è¯•

<br>

çœ‹åˆ°äºŒå‰æœç´¢æ ‘å’Œå°†æ•°æ®æ’åºè¾“å‡ºï¼Œå°è¯•ç€ä¸­åºéå†è¾“å‡ºï¼Œç»“æœç¬¦åˆé¢„æœŸ

ç„¶åå°±ä½¿ç”¨ Carl å“¥çš„ä¸­åºéå†ï¼ˆç»Ÿä¸€è¿­ä»£æ³•ï¼Œ[äºŒå‰æ ‘çš„ç»Ÿä¸€è¿­ä»£æ³• - ä»£ç éšæƒ³å½•](https://www.programmercarl.com/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E7%BB%9F%E4%B8%80%E8%BF%AD%E4%BB%A3%E6%B3%95.html#%E6%80%9D%E8%B7%AF)ï¼‰éå†äºŒå‰æ ‘ï¼Œå¹¶å°†åŸå…ˆéœ€è¦è®°å½•è·¯å¾„çš„å¤„ç†æ”¹ä¸ºå¤„ç†å·¦å³æŒ‡é’ˆ

```java
/*
// Definition for a Node.
class Node {
    public int val;
    public Node left;
    public Node right;

    public Node() {}

    public Node(int _val) {
        val = _val;
    }

    public Node(int _val,Node _left,Node _right) {
        val = _val;
        left = _left;
        right = _right;
    }
};
*/
class Solution {
    public Node treeToDoublyList(Node root) {
        if (root == null) return null;

        Deque<Node> stack = new LinkedList<>();
        Node cur = root, pre = null, head = null;
        stack.offerLast(root);
        while (!stack.isEmpty()) {
            if (stack.peekLast() != null) {
                Node tmp = stack.pollLast();
                if (tmp.right != null) stack.offerLast(tmp.right);

                stack.offerLast(tmp);
                //ä½¿ç”¨ç©ºèŠ‚ç‚¹æ ‡è®°å·²ç»éå†ä½†è¿˜æœªå¤„ç†çš„èŠ‚ç‚¹
                stack.offerLast(null);

                if (tmp.left != null) stack.offerLast(tmp.left);
            } else {
                // å¼¹å‡ºç©ºèŠ‚ç‚¹
                stack.pollLast();
                cur = stack.pollLast();
                if (pre == null) {
                    head = cur;
                    pre = cur;
                } else {
                    pre.right = cur;
                    cur.left = pre;
                    pre = cur;
                }
            }
        }

        cur.right = head;
        head.left = cur;
        return head;
    }
}
```

ä¸çŸ¥é“æ˜¯ä¸æ˜¯è‡ªå·±ä»£ç æœ‰äº›éƒ¨åˆ†å†™å¾—æœ‰ç‚¹å†—ä½™ï¼Œæ‰§è¡Œè®¡æ—¶å‡»è´¥ 6.99%ï¼Œæ¶ˆè€—å†…å­˜å‡»è´¥ 5.17% ğŸ˜‚



## ä¼˜ç§€é¢˜è§£

<br>

ä¸­åºéå†,é€’å½’ç‰ˆ,ä»£ç è¿˜æ˜¯è›®ç²¾ç®€çš„!

```java
class Solution {
    Node pre, head;
    public Node treeToDoublyList(Node root) {
        if(root == null) return null;
        dfs(root);
        head.left = pre;
        pre.right = head;
        return head;
    }
    void dfs(Node cur) {
        if(cur == null) return;
        dfs(cur.left);
        if(pre != null) pre.right = cur;
        else head = cur;
        cur.left = pre;
        pre = cur;
        dfs(cur.right);
    }
}

ä½œè€…ï¼šKrahets
é“¾æ¥ï¼šhttps://leetcode.cn/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/solutions/186518/mian-shi-ti-36-er-cha-sou-suo-shu-yu-shuang-xian-5/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

